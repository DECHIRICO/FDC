var Pil=function(){"use strict";function t(t,e){t.classList?t.classList.add(e):t.className+=" "+e}var e={init:function(){var e=document.querySelectorAll(".pil img");Array.prototype.forEach.call(e,function(e,i){var a=e.src;e.setAttribute("data-src",a),e.src="";var n=e.getAttribute("data-full-width"),r=e.getAttribute("data-full-height"),l=r/n*100,c=document.createElement("div"),o=document.createElement("img"),d=a.split(".").pop();t(c,"pil-thumb"),c.style.paddingBottom=l+"%",o.width=n,o.height=r,c.appendChild(o),e.parentNode.appendChild(c);var s=e.getAttribute("data-pil-thumb-url");s||(s=a.replace("."+d,"-thumb."+d));var u=new Image;u.src=s,u.onload=function(){o.src=this.src,setTimeout(function(){t(c,"pil-thumb-loaded")},10)};var p=new Image;p.src=a,p.onload=function(){e.src=this.src,c.style.paddingBottom="0%",setTimeout(function(){t(e.parentNode,"pil-loaded")},10)}})}};return{init:e.init}}();Pil.init();